<!DOCTYPE html>
<html>
  <head>
    <title>Friend Finder?</title>
    <meta charset="utf-8">

    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

    <!-- <link rel="stylesheet" href="style.css"> -->
  
  </head>
<body>

  <div class="container">
    <div class="jumbotron">
       <h1 id=title>Friend Finder</h1> 
       <h2 id=subTitle>Westeros Edition</h2>
    </div>
    <br>
    <div class="row mainBody">
      <div class="col-md-12"">
        <h3 id="survey-header">Survey Questions</h3>
        <div class="panel panel-primary" id="entryFormPanel">
          <div class="panel-heading">
            <h2 class="panel-title">About You:</h2>
            <form>
              <div class="form-group">
                <label for="exampleInputEmail1">Name (required)</label>
                <input type="text" class="form-control" id="name" aria-describedby="emailHelp" placeholder="Enter Name">
              </div>
              <div class="form-group">
                <label for="pictureURL">Picture (required)</label>
                <input type="url" class="form-control" id="pictureURL" placeholder="Picture URL">
              </div>
            </form>
          </div>
          <div class="panel panel-body">  
              <div class="form-group col-md-12">
                <label for="inputState" class="questionNumber">Question 1</label>
                <h4 class="surveyQuestion">What is your favorite color?</h4>
                <select id="resQ1" class="chosen-select">
                  <option selected>Choose...</option>
                  <option value="1">1. Not at all</option>
                  <option value="2">2. </option>
                  <option value="3">3. Sometimes</option>
                  <option value="4">4. </option>
                  <option value="5">5. All the time</option>
                </select>
              </div>
              <div class="form-group col-md-12">
                <label for="inputState" class="questionNumber">Question 1</label>
                <h4 class="surveyQuestion">What is your favorite color?</h4>
                <select id="resQ2" class="chosen-select">
                  <option selected>Choose...</option>
                  <option value="1">1. Not at all</option>
                  <option value="2">2. </option>
                  <option value="3">3. Sometimes</option>
                  <option value="4">4. </option>
                  <option value="5">5. All the time</option>
                </select>
              </div>
              <div class="form-group col-md-12">
                <label for="inputState" class="questionNumber">Question 1</label>
                <h4 class="surveyQuestion">What is your favorite color?</h4>
                <select id="resQ3" class="chosen-select">
                  <option selected>Choose...</option>
                  <option value="1">1. Not at all</option>
                  <option value="2">2. </option>
                  <option value="3">3. Sometimes</option>
                  <option value="4">4. </option>
                  <option value="5">5. All the time</option>
                </select>
              </div>
              <div class="form-group col-md-12">
                <label for="inputState" class="questionNumber">Question 1</label>
                <h4 class="surveyQuestion">What is your favorite color?</h4>
                <select id="resQ4" class="chosen-select">
                  <option selected>Choose...</option>
                  <option value="1">1. Not at all</option>
                  <option value="2">2. </option>
                  <option value="3">3. Sometimes</option>
                  <option value="4">4. </option>
                  <option value="5">5. All the time</option>
                </select>
              </div>
              <div class="form-group col-md-12">
                <label for="inputState" class="questionNumber">Question 1</label>
                <h4 class="surveyQuestion">What is your favorite color?</h4>
                <select id="resQ5" class="chosen-select">
                  <option selected>Choose...</option>
                  <option value="1">1. Not at all</option>
                  <option value="2">2. </option>
                  <option value="3">3. Sometimes</option>
                  <option value="4">4. </option>
                  <option value="5">5. All the time</option>
                </select>
              </div>
              <div class="form-group col-md-12">
                <label for="inputState" class="questionNumber">Question 1</label>
                <h4 class="surveyQuestion">What is your favorite color?</h4>
                <select id="resQ6" class="chosen-select">
                  <option selected>Choose...</option>
                  <option value="1">1. Not at all</option>
                  <option value="2">2. </option>
                  <option value="3">3. Sometimes</option>
                  <option value="4">4. </option>
                  <option value="5">5. All the time</option>
                </select>
              </div>
              <div class="form-group col-md-12">
                <label for="inputState" class="questionNumber">Question 1</label>
                <h4 class="surveyQuestion">What is your favorite color?</h4>
                <select id="resQ7" class="chosen-select">
                  <option selected>Choose...</option>
                  <option value="1">1. Not at all</option>
                  <option value="2">2. </option>
                  <option value="3">3. Sometimes</option>
                  <option value="4">4. </option>
                  <option value="5">5. All the time</option>
                </select>
              </div>
              <div class="form-group col-md-12">
                <label for="inputState" class="questionNumber">Question 1</label>
                <h4 class="surveyQuestion">What is your favorite color?</h4>
                <select id="resQ8" class="chosen-select">
                  <option selected>Choose...</option>
                  <option value="1">1. Not at all</option>
                  <option value="2">2. </option>
                  <option value="3">3. Sometimes</option>
                  <option value="4">4. </option>
                  <option value="5">5. All the time</option>
                </select>
              </div>
              <div class="form-group col-md-12">
                <label for="inputState" class="questionNumber">Question 1</label>
                <h4 class="surveyQuestion">What is your favorite color?</h4>
                <select id="resQ9" class="chosen-select">
                  <option selected>Choose...</option>
                  <option value="1">1. Not at all</option>
                  <option value="2">2. </option>
                  <option value="3">3. Sometimes</option>
                  <option value="4">4. </option>
                  <option value="5">5. All the time</option>
                </select>
              </div>
              <div class="form-group col-md-12">
                <label for="inputState" class="questionNumber">Question 1</label>
                <h4 class="surveyQuestion">What is your favorite color?</h4>
                <select id="resQ10" class="chosen-select">
                  <option selected>Choose...</option>
                  <option value="1">1. Not at all</option>
                  <option value="2">2. </option>
                  <option value="3">3. Sometimes</option>
                  <option value="4">4. </option>
                  <option value="5">5. All the time</option>
                </select>
              </div>

              <button type="submit" class="btn btn-primary" id="submitButton">Submit</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="result">
    <h2 class="newBestie" id="newBestieName"></h2>
    <img id="newBestieImage" src="https://">
  </div>
  </div>
    <div class="col-md-3 footer">
      <p>
        <a href="/api">API - Friends list</a>  |  
        <a href="https://github.com/rgerboth/friendfinder">GitHub</a>
      </p>
  </div>

  <!-- The Modal -->
  <!-- Modal content -->
<!--   <div id="resultsModal" class="modal">
  <div class="modal-content">
    <h2 id="newBestieName"></h2>
    <br>
    <img id="newBestieImage" src="https://" alt="Your New Best Friend">
    <span class="close">&times;</span>
    <br>
    <p>CLOSE</p>
  </div> -->


<script src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>
  
<script type="text/javascript">

        // Form validation
      function validateForm() {
        var isValid = true;
        $(".form-control").each(function() {
          if ($(this).val() === "") {
            isValid = false;
          }
        });

        $(".chosen-select").each(function() {

          if ($(this).val() === "Choose...") {
            isValid = false;
          }
        });
        return isValid;
      }

      $("#submitButton").on("click", function(event) {
      event.preventDefault();
      console.log("Submit Button Clicked")
         // If all required fields are filled
      if (validateForm()) {
        // Create an object for the user"s data
        var findFriend = {
          name: $("#name").val().trim(),
          image: $("#pictureURL").val().trim(),
          scores: [
            $("#resQ1").val().trim(),
            $("#resQ2").val().trim(),
            $("#resQ3").val().trim(),
            $("#resQ4").val().trim(),
            $("#resQ5").val().trim(),
            $("#resQ6").val().trim(),
            $("#resQ7").val().trim(),
            $("#resQ8").val().trim(),
            $("#resQ9").val().trim(),
            $("#resQ10").val().trim()
          ]
        }
        console.log(findFriend)
        $.post("/api/findFriend", findFriend, function(data) {
          if (data) {
            $("#newBestieName").text(data.name);
            $("#newBestieImage").attr("src", data.image);
          console.log(data);
          } else {
            $("newBestieName").text("Sorry, unlucky that.")
          }
        })
      } else {
        alert("Please complete all questions!")
      }
  });

</script>
</body>
</html>
